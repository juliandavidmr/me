<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Pasos para crear una librería para NodeJS</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Pasos para crear una librería para NodeJS</h1>
</header>
<section data-field="subtitle" class="p-summary">
Creando una librería para generar nombres de gatos
</section>
<section data-field="body" class="e-content">
<section name="b274" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="980e" id="980e" class="graf graf--figure graf--leading"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 431px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 61.6%;"></div><img class="graf-image" data-image-id="1*aHFsN7UZSODqIug3zHTufw.jpeg" data-width="960" data-height="591" src="https://cdn-images-1.medium.com/max/800/1*aHFsN7UZSODqIug3zHTufw.jpeg"></div></figure><h3 name="baa7" id="baa7" class="graf graf--h3 graf-after--figure graf--title">Pasos para crear una librería para NodeJS</h3><h4 name="dd74" id="dd74" class="graf graf--h4 graf-after--h3 graf--subtitle">Creando una librería para generar nombres de gatos</h4><p name="592d" id="592d" class="graf graf--p graf-after--h4">Probablemente tengas en mente desarrollar una librería para NodeJS. Al final de esta publicación tendrás tu librería publicada en <a href="https://www.npmjs.com" data-href="https://www.npmjs.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">npm</a>. Antes de eso, hablaré un poco de mis proyectos personales. — Hasta ahora he creado siete paquetes para NodeJS, una de esas ha llegado bastante bien en la comunidad de JavaScript, se llama <a href="https://www.npmjs.com/package/sails-inverse-model" data-href="https://www.npmjs.com/package/sails-inverse-model" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">Sails Inverse Model</em></a>. Una parte de las otras seis librerías fueron creadas para complementar la anterior, el resto solamente realiza operaciones sencillas.</p><p name="3a31" id="3a31" class="graf graf--p graf-after--p">Empecemos… Antes de entrar a ver código es necesario cumplir con otros pasos:</p><ol class="postList"><li name="cd50" id="cd50" class="graf graf--li graf-after--p">Crear una cuenta de usuario en <a href="https://www.npmjs.com" data-href="https://www.npmjs.com" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">npm.js</a>.</li><li name="2d15" id="2d15" class="graf graf--li graf-after--li">Instalar <a href="https://nodejs.org/es/" data-href="https://nodejs.org/es/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">NodeJS</a>.</li><li name="3c41" id="3c41" class="graf graf--li graf-after--li">Instalar un editor de código. Quizás te guste Atom, Visual Studio Code o Sublime Text.</li><li name="166a" id="166a" class="graf graf--li graf-after--li graf--trailing">Pasos obvios: <em class="markup--em markup--li-em">Saber JavaScript y usar la consola.</em></li></ol></div></div></section><section name="cf07" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="4675" id="4675" class="graf graf--p graf--leading">Esta publicación posee un subtitulo muy particular: <em class="markup--em markup--p-em">Creando una librería para generar nombres de gatos.</em> Se trata de una librería existente creada por desarrollador muy conocido, su nombre es <a href="https://medium.com/u/37166cebf99b" data-href="https://medium.com/u/37166cebf99b" data-anchor-type="2" data-user-id="37166cebf99b" data-action-value="37166cebf99b" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Sindre Sorhus</a> <em class="markup--em markup--p-em">(o al menos así se hace llamar)</em>. La función de este paquete es mostrar nombres aleatorios de gatos, y la he escogido por su sencillez en el código fuente. También ha creado librerías para generar nombres de perros, súper héroes, pokémones, súper villanos y arboles… Aunque posee una cantidad absurda de librerías, <a href="https://www.npmjs.com/~sindresorhus" data-href="https://www.npmjs.com/~sindresorhus" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">mas de 900 paquetes publicados en npm.</a> :O</p><blockquote name="cdb8" id="cdb8" class="graf graf--pullquote graf-after--p graf--trailing">En esta guía veremos el funcionamiento del paquete <a href="https://github.com/sindresorhus/cat-names" data-href="https://github.com/sindresorhus/cat-names" class="markup--anchor markup--pullquote-anchor" rel="noopener" target="_blank"><em class="markup--em markup--pullquote-em">cat names</em></a><em class="markup--em markup--pullquote-em"> </em>y como programarla. Posteriormente, se hará el proceso de subir este paquete al repositorio de npm.</blockquote></div></div></section><section name="487b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="683b" id="683b" class="graf graf--h3 graf--leading">Paso 1. Crear archivos</h3><p name="d670" id="d670" class="graf graf--p graf-after--h3">Crear una carpeta que contendrá todos los archivos fuente de la librería.</p><pre name="20ad" id="20ad" class="graf graf--pre graf-after--p">$ mkdir cat-names</pre><p name="0571" id="0571" class="graf graf--p graf-after--pre">Posteriormente debes crear <strong class="markup--strong markup--p-strong">cuatro archivos</strong> dentro del directorio “<em class="markup--em markup--p-em">cat-names</em>”:</p><p name="cdeb" id="cdeb" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">index.js — </strong>Aquí va el código que será ejecutado cuando la función <em class="markup--em markup--p-em">require() </em>sea llamada. P.ej:</p><pre name="1ce1" id="1ce1" class="graf graf--pre graf-after--p">var cats = require(&#39;cat-names&#39;);</pre><p name="3c89" id="3c89" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">cli.js — </strong>Si tu librería es una aplicación de consola entonces debes usar este archivo. <strong class="markup--strong markup--p-strong">No</strong> depende de la función “<em class="markup--em markup--p-em">require()</em>” para ser ejecutado, y puede ser usado como cualquier otro programa de consola, p.ej:</p><pre name="1221" id="1221" class="graf graf--pre graf-after--p">$ <code class="markup--code markup--pre-code">cat-names --help</code></pre><p name="a5a0" id="a5a0" class="graf graf--p graf-after--pre">El ejemplo anterior se ejecuta desde la terminal, donde <em class="markup--em markup--p-em">cat-names </em>es el llamado de la aplicación a ejecutar, y <em class="markup--em markup--p-em">help</em> es un parámetro. <em class="markup--em markup--p-em">Otro ejemplo similar: “ping 8.8.8.8”, donde ping es el programa a ejecutar y 8.8.8.8 el parámetro.</em></p><p name="ac61" id="ac61" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">package.json — </strong>Contiene toda la información fundamental de nuestro paquete. Aquí se especifica el nombre del paquete, version, descripción, licencia, autor, información del autor, palabras clave, dependencias…</p><p name="5e6e" id="5e6e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">cat-names.json</strong> — Listado de nombres de gatos.</p><h3 name="c25f" id="c25f" class="graf graf--h3 graf-after--p">Paso 2. Programar paquete</h3><blockquote name="f0e9" id="f0e9" class="graf graf--blockquote graf-after--h3">cat-names.json</blockquote><figure name="07f4" id="07f4" class="graf graf--figure graf--iframe graf-after--blockquote"></figure><blockquote name="6987" id="6987" class="graf graf--blockquote graf-after--figure"><strong class="markup--strong markup--blockquote-strong">index.js</strong></blockquote><figure name="fbfb" id="fbfb" class="graf graf--figure graf--iframe graf-after--blockquote"></figure><p name="abdd" id="abdd" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">Linea 2. </strong>Importar librería para generar un valor aleatorio según un vector dado.</p><p name="59e8" id="59e8" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linea 3. </strong>Obtiene una lista de nombres de gatos.</p><p name="96fe" id="96fe" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linea 5.</strong> Exporta la lista de nombres de gatos.</p><p name="0eaa" id="0eaa" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linea 6.</strong> Obtiene el nombre de un gato usando el paquete <em class="markup--em markup--p-em">uniqueRandomArray</em>.</p><blockquote name="e789" id="e789" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">cli.js</strong></blockquote><figure name="8567" id="8567" class="graf graf--figure graf--iframe graf-after--blockquote"></figure><p name="e200" id="e200" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">Linea 4.</strong> Librería para gestión de parámetros y mensajes en la terminal.</p><p name="49f2" id="49f2" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linea 5. </strong>Importar el archivo <em class="markup--em markup--p-em">index.js.</em> Node reconoce por defecto que ./ es <em class="markup--em markup--p-em">index.js</em></p><p name="569c" id="569c" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linea 7 — 19. </strong>Mensaje de ayuda para mostrar en la terminal.</p><p name="f241" id="f241" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linea 21. </strong>Muestra el resultado de la operación solicitada, es decir, devuelve el listado de gatos o un gato aleatorio.</p><blockquote name="79d7" id="79d7" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">package.json</strong></blockquote><figure name="f1cc" id="f1cc" class="graf graf--figure graf--iframe graf-after--blockquote"></figure><p name="031a" id="031a" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">Descripción de las claves (keys):</strong></p><ul class="postList"><li name="d916" id="d916" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">name. </strong>Nombre del paquete. Será mostrado en npm.js</li><li name="df94" id="df94" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">version. </strong>Versión del paquete. Es importante mantener una secuencia ordenada (p.ej: 1.0.0–1.0.1–1.0.2–1.0.3…), de esta manera la secuencia aumenta cada vez que se haga una actualización.</li><li name="4693" id="4693" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">description. </strong>Descripción del paquete. Será mostrada en npm.js</li><li name="9876" id="9876" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">license. </strong>Tipo de licencia de software.</li><li name="114c" id="114c" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">repository</strong>. Enlace al repositorio del código fuente. Enlace de Github, Gitlab…</li><li name="6182" id="6182" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">author.</strong> Datos acerca del autor.</li><li name="37d8" id="37d8" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">bin.</strong> Clave usada para especificar el archivo que se debe ejecutar cuando el paquete se solicite desde la terminal.</li><li name="2d79" id="2d79" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">files</strong>. Archivos que deben ser seleccionados para subir al repositorio de npm.js.</li><li name="6051" id="6051" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">engines. </strong>Especifica las versiones de node en la que funciona el paquete:</li><li name="1dd7" id="1dd7" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">scripts.</strong> Contiene los comandos que se ejecutan en varias ocasiones en el ciclo de vida de su paquete.</li><li name="e840" id="e840" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">keywords</strong>. Palabras clave que describen el paquete. Esto ayuda a que las personas descubran tu paquete cuando buscan en npm.</li><li name="06a7" id="06a7" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">dependencies</strong>. Especifica las dependencias asignadas a nuestro paquete. Se describe el nombre de paquete junto a un intervalo de versiones.</li><li name="cd81" id="cd81" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">devDependencies</strong>. Dependencias necesarias para desarrollar el paquete.</li></ul><blockquote name="add0" id="add0" class="graf graf--blockquote graf-after--li"><a href="https://docs.npmjs.com/files/package.json" data-href="https://docs.npmjs.com/files/package.json" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank">Ver Guía completa</a></blockquote><p name="53db" id="53db" class="graf graf--p graf-after--blockquote">Es importante crear el archivo de documentación README.md. <a href="https://gist.github.com/juliandavidmr/2a9d88aeb8f0c4027bd80fc188df6342" data-href="https://gist.github.com/juliandavidmr/2a9d88aeb8f0c4027bd80fc188df6342" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Ver ejemplo.</a></p><h3 name="93cf" id="93cf" class="graf graf--h3 graf-after--p">Paso 3. Probar código</h3><p name="d4d7" id="d4d7" class="graf graf--p graf-after--h3">En este paso vamos a verificar que nuestro paquete esté funcionando correctamente. Para esto es necesario instalar las dependencias:</p><pre name="887e" id="887e" class="graf graf--pre graf-after--p"># Acceder al directorio<br>$ cd cat-names</pre><pre name="e796" id="e796" class="graf graf--pre graf-after--pre"># Instalar paquetes<br>$ npm install<br>#=&gt; Se muestra todo el proceso de instalación de dependencias </pre><pre name="d536" id="d536" class="graf graf--pre graf-after--pre">$ node cli.js --help<br>#=&gt; Muestra la ayuda de nuestro paquete</pre><pre name="9b4a" id="9b4a" class="graf graf--pre graf-after--pre">$ node cli.js<br>#=&gt; Muestra el nombre de un gato</pre><pre name="446a" id="446a" class="graf graf--pre graf-after--pre">$ node cli.js --all<br>#=&gt; Muestra una lista de gatos</pre><h3 name="aa4a" id="aa4a" class="graf graf--h3 graf-after--pre">Paso 4. Iniciar sesión en NPM</h3><blockquote name="565c" id="565c" class="graf graf--blockquote graf-after--h3">Se exige tener una cuenta de usuario en npm.js</blockquote><pre name="f922" id="f922" class="graf graf--pre graf-after--blockquote"># Iniciar la sesión desde la terminal<br>$ npm login</pre><pre name="ec20" id="ec20" class="graf graf--pre graf-after--pre">#= Se solicitan las credenciales (email &amp; password)</pre><h3 name="9dda" id="9dda" class="graf graf--h3 graf-after--pre">Paso 5. (Ultimo) Subir librería a NPM</h3><p name="3233" id="3233" class="graf graf--p graf-after--h3">Ultimo paso. Se carga todo el paquete al repositorio oficial de NodeJS, en instantes quedará disponible públicamente.</p><pre name="6ef7" id="6ef7" class="graf graf--pre graf-after--p graf--trailing">$ npm publish<br>#=&gt; Muestra el proceso de carga.<br>#=&gt; Finalmente se muestra el resultado de la operación.</pre></div></div></section><section name="7eca" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9188" id="9188" class="graf graf--h3 graf--leading">Recomendaciones</h3><ol class="postList"><li name="226d" id="226d" class="graf graf--li graf-after--h3">Recuerda aumentar la secuencia de la versión para evitar errores de subida.</li><li name="91ba" id="91ba" class="graf graf--li graf-after--li">Cada vez que se agregue un nuevo archivo o carpeta es importante referenciarlo en el <em class="markup--em markup--li-em">package.json</em>, dentro de la clave <em class="markup--em markup--li-em">files.</em></li><li name="263e" id="263e" class="graf graf--li graf-after--li">Es importante escribir toda la documentación que sea necesaria para especificar el funcionamiento de tu paquete. Esto ayudará a que otros usuarios entiendan como instalar y usar tu librería.</li><li name="764b" id="764b" class="graf graf--li graf-after--li">Si quieres dar a conocer tu librería, deberías publicarlo en las redes sociales. Un tweet con los hashtag adecuados puede llegar a muchos usuarios en poco tiempo.</li><li name="d10a" id="d10a" class="graf graf--li graf-after--li">Recuerda mantener actualizada las versiones de las dependencias. Algunas veces estos se convierten en paquetes obsoletos de un momento a otro.</li><li name="ee5a" id="ee5a" class="graf graf--li graf-after--li"><a href="http://www.w3schools.com/js/js_best_practices.asp" data-href="http://www.w3schools.com/js/js_best_practices.asp" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Mantener buenas practicas de desarrollo.</a></li></ol><h3 name="0aeb" id="0aeb" class="graf graf--h3 graf-after--li">Otros ejemplos para ver</h3><ol class="postList"><li name="efa1" id="efa1" class="graf graf--li graf-after--h3"><a href="https://www.npmjs.com/package/argvd" data-href="https://www.npmjs.com/package/argvd" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Argvd</a></li><li name="b4de" id="b4de" class="graf graf--li graf-after--li"><a href="https://www.npmjs.com/package/entorn" data-href="https://www.npmjs.com/package/entorn" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Entorn</a></li><li name="74e6" id="74e6" class="graf graf--li graf-after--li graf--trailing"><a href="https://github.com/sindresorhus/dog-names" data-href="https://github.com/sindresorhus/dog-names" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Dog names</a></li></ol></div></div></section><section name="67e1" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="94e5" id="94e5" class="graf graf--p graf--leading graf--trailing">Espero que te haya gustado esta guía :). Me gustaría conocer la(s) librería(s) que has desarrollado. Gracias por leer.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@anlijudavid" class="p-author h-card">David</a> on <a href="https://medium.com/p/fa49b17558b8"><time class="dt-published" datetime="2017-02-08T05:04:53.246Z">February 8, 2017</time></a>.</p><p><a href="https://medium.com/@anlijudavid/pasos-para-crear-una-librer%C3%ADa-para-nodejs-fa49b17558b8" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on March 19, 2020.</p></footer></article></body></html>